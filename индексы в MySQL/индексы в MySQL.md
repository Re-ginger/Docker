## Индексы

### Добавленные индексы

В рамках улучшения производительности поиска в базе данных были добавлены полнотекстовые индексы. Ниже приведены изменения, сделанные в таблицах базы данных:

- **Таблица `WineVarieties`**:
  - Полнотекстовый индекс на колонки `wine_type`, `region`.
```sql
mysql> ALTER TABLE WineVarieties ADD FULLTEXT (wine_type, region);
Query OK, 0 rows affected, 1 warning (0.13 sec)
Records: 0  Duplicates: 0  Warnings: 1
```
Это улучшает производительность полнотекстового поиска по типу вина и региону.

- **Таблица `Barrels`**:
   - Добавлен полнотекстовый индекс на колонку `wood_type`:
```sql
mysql> ALTER TABLE Barrels   ADD FULLTEXT (wood_type);
Query OK, 0 rows affected, 1 warning (0.11 sec)
Records: 0  Duplicates: 0  Warnings: 1
```
Это оптимизирует поиск по типу древесины


### Результаты проверки производительности
**До добавления индексов:**
Проверка производительности поиска с использованием оператора LIKE, что позволило зафиксировать начальные показатели.
```sql
mysql> EXPLAIN SELECT * FROM WineVarieties WHERE wine_type LIKE '%California%';
+----+-------------+---------------+------------+------+---------------+------+---------+------+------+----------+-------------+
| id | select_type | table         | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |
+----+-------------+---------------+------------+------+---------------+------+---------+------+------+----------+-------------+
|  1 | SIMPLE      | WineVarieties | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    3 |    33.33 | Using where |
+----+-------------+---------------+------------+------+---------------+------+---------+------+------+----------+-------------+
1 row in set, 1 warning (0.00 sec)
mysql> EXPLAIN SELECT * FROM Barrels WHERE wood_type LIKE '%Oak%';
+----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-------------+
| id | select_type | table   | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |
+----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-------------+
|  1 | SIMPLE      | Barrels | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    2 |    50.00 | Using where |
+----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-------------+
1 row in set, 1 warning (0.00 sec)
```

**Запросы после добавления индекса:** Анализ выполнения запросов с использованием полнотекстового индекса, чтобы подтвердить улучшение производительности.
```sql
mysql> EXPLAIN SELECT * FROM WineVarieties WHERE MATCH(wine_type, region) AGAINST('California');
+----+-------------+---------------+------------+----------+---------------+-----------+---------+-------+------+----------+-------------------------------+
| id | select_type | table         | partitions | type     | possible_keys | key       | key_len | ref   | rows | filtered | Extra                         |
+----+-------------+---------------+------------+----------+---------------+-----------+---------+-------+------+----------+-------------------------------+
|  1 | SIMPLE      | WineVarieties | NULL       | fulltext | wine_type     | wine_type | 0       | const |    1 |   100.00 | Using where; Ft_hints: sorted |
+----+-------------+---------------+------------+----------+---------------+-----------+---------+-------+------+----------+-------------------------------+
1 row in set, 1 warning (0.00 sec)
EXPLAIN SELECT * FROM Barrels WHERE MATCH(wood_type) AGAINST('Oak');
+----+-------------+---------+------------+----------+---------------+-----------+---------+-------+------+----------+-------------------------------+
| id | select_type | table   | partitions | type     | possible_keys | key       | key_len | ref   | rows | filtered | Extra                         |
+----+-------------+---------+------------+----------+---------------+-----------+---------+-------+------+----------+-------------------------------+
|  1 | SIMPLE      | Barrels | NULL       | fulltext | wood_type     | wood_type | 0       | const |    1 |   100.00 | Using where; Ft_hints: sorted |
+----+-------------+---------+------------+----------+---------------+-----------+---------+-------+------+----------+-------------------------------+
```
